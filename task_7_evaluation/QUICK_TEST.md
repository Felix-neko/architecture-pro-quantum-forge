# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä—É—Å—Å–∫–∏—Ö –ø—Ä–æ–º–ø—Ç–æ–≤

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤

```bash
cd task_7_evaluation
uv run python -c "from russian_prompts import PROMPTS; print('‚úì –°–æ–∑–¥–∞–Ω–æ' if PROMPTS else '‚úó –û—à–∏–±–∫–∞'); [print(f'  {k}: {type(v).__name__}') for k,v in PROMPTS.items()] if PROMPTS else None"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
‚úì –£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ 4 —Ä—É—Å—Å–∫–∏—Ö PydanticPrompt –æ–±—ä–µ–∫—Ç–æ–≤ —Å few-shot –ø—Ä–∏–º–µ—Ä–∞–º–∏
‚úì –°–æ–∑–¥–∞–Ω–æ
  answer_relevancy: ResponseRelevancePrompt
  faithfulness: StatementGeneratorPrompt
  context_precision: ContextPrecisionPrompt
  context_recall: ContextRecallClassificationPrompt
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫ –º–µ—Ç—Ä–∏–∫–∞–º

```bash
uv run python -c "
import sys; sys.path.insert(0, '.')
from evaluate_rag_responses import apply_russian_prompts_to_metrics
from ragas.metrics import answer_relevancy

print('–î–æ:', answer_relevancy.get_prompts()['response_relevance_prompt'].language)
apply_russian_prompts_to_metrics()
print('–ü–æ—Å–ª–µ:', answer_relevancy.get_prompts()['response_relevance_prompt'].language)
"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
–î–æ: english
–ü–æ—Å–ª–µ: russian
```

## –ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ –æ—Ü–µ–Ω–∫–∏

```bash
uv run python evaluate_rag_responses.py \
  --input enriched_gold_questions_with_unfiltered_context.yaml \
  --out results_russian.json \
  --batch_size 8
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –≤ –Ω–∞—á–∞–ª–µ:**
```
================================================================================
üåç –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –†–£–°–°–ö–ò–• –ü–†–û–ú–ü–¢–û–í –ö –ú–ï–¢–†–ò–ö–ê–ú RAGAS
================================================================================
üìÑ –§–∞–π–ª russian_prompts.py –Ω–∞–π–¥–µ–Ω –∏ –∑–∞–≥—Ä—É–∂–µ–Ω
üì¶ PydanticPrompt –æ–±—ä–µ–∫—Ç—ã: ‚úì –î–æ—Å—Ç—É–ø–Ω—ã

‚úÖ –†—É—Å—Å–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã —Å few-shot –ø—Ä–∏–º–µ—Ä–∞–º–∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫ –º–µ—Ç—Ä–∏–∫–∞–º!
   –ú–æ–¥–µ–ª—å-–∫—Ä–∏—Ç–∏–∫ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –ø—Ä–∏–º–µ—Ä—ã.
================================================================================
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –ª–æ–≥–∞—Ö LLM

–í –≤—ã–≤–æ–¥–µ `üîµ LLM REQUEST` –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å **—Ä—É—Å—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏**:

```
–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –û—Ü–µ–Ω–∏, –Ω–∞—Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–¥–∞–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å...
```

–í–º–µ—Å—Ç–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö:
```
Generate a question for the given answer and Identify if answer is noncommittal...
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### ‚úó PydanticPrompt –æ–±—ä–µ–∫—Ç—ã: –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã

**–ü—Ä–∏—á–∏–Ω–∞:** –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –∫–ª–∞—Å—Å–æ–≤ –ø—Ä–æ–º–ø—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Ragas: `pip show ragas`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Ä—Å–∏—è >= 0.1.0
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –º–æ–¥—É–ª–∏:
   ```bash
   uv run python -c "from ragas.metrics._answer_relevance import ResponseRelevancePrompt; print('OK')"
   ```

### –ü—Ä–æ–º–ø—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–µ—Ç–æ–¥ `set_prompts()` –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ INFO
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏–¥–∏—Ç–µ "‚úì answer_relevancy: –ø—Ä–æ–º–ø—Ç ... –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ —Ä—É—Å—Å–∫–∏–π"
3. –ï—Å–ª–∏ –Ω–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—é—á–∏ –ø—Ä–æ–º–ø—Ç–æ–≤ —Å–æ–≤–ø–∞–¥–∞—é—Ç (–º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á–µ—Ä–µ–∑ `metric.get_prompts().keys()`)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä—É—Å—Å–∫–∏—Ö –ø—Ä–æ–º–ø—Ç–æ–≤

–ö–∞–∂–¥—ã–π –ø—Ä–æ–º–ø—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
- **instruction**: –†—É—Å—Å–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –º–æ–¥–µ–ª–∏
- **examples**: 2 few-shot –ø—Ä–∏–º–µ—Ä–∞ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π + –ø—Ä–æ–±–ª–µ–º–Ω—ã–π —Å–ª—É—á–∞–π)
- **response_model**: Pydantic –º–æ–¥–µ–ª—å –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞
- **language**: "russian"

## –ú–µ—Ç—Ä–∏–∫–∏

1. **answer_relevancy** - –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –≤–æ–ø—Ä–æ—Å—É
2. **faithfulness** - –î–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π)
3. **context_precision** - –¢–æ—á–Ω–æ—Å—Ç—å —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
4. **context_recall** - –ü–æ–ª–Ω–æ—Ç–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

–í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä—É—Å—Å–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏!
